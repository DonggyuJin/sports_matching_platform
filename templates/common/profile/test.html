{% extends "base.html" %}

{% block content %}
<input type="button" value="캡쳐" />
<a id="target" style="display: none"></a>
<script>
$(":button").on('click', function(e) {
  // html2canvas(e.target.parentElement).then(function(canvas) {
  //   document.body.appendChild(canvas)
  // });
  // html2canvas(e.target.parentElement).then(function(canvas) {
  //   $('body').append('<img src="' + canvas.toDataURL("image/jpeg") + '"/>');
  // });
  html2canvas(e.target.parentElement).then(function(canvas) {
    if (navigator.msSaveBlob) {
      var blob = canvas.msToBlob(); 
      return navigator.msSaveBlob(blob, '파일명.jpg'); 
    } else { 
      var el = document.getElementById("target");
      el.href = canvas.toDataURL("image/jpeg");
      el.download = 'screenshot.jpg';
      el.click();
    }
  });
});
</script>
{% endblock %}